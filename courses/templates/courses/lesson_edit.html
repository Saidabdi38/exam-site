[10:35, 24/02/2026] Siciid Cabdi: {% extends "base.html" %}
{% block title %}Edit Lesson{% endblock %}
{% block content %}

<div class="container" style="max-width:820px;">
  <h2>Edit Lesson</h2>
  <p style="color:#6b7280;margin-top:-6px;">Course: {{ course.title }}</p>

  <form method="post">
    {% csrf_token %}

    <label><strong>Lesson Title</strong></label>
    <input type="text" name="title" value="{{ lesson.title }}" style="width:100%;padding:10px;margin:6px 0 12px;">

    <label><strong>Order</strong></label>
    <input type="number" name="order" value="{{ lesson.order }}" style="width:160px;padding:10px;margin:6px 0 12px;">

    <label><strong>Content</strong></label>
    <textarea name="content" rows="10" style="width:100%;padding:10px;margin:6px 0 12px;">{{ lesson.content }}</tex…
[10:42, 24/02/2026] Siciid Cabdi: {% extends "base.html" %}
{% block title %}Edit Lesson{% endblock %}
{% block content %}

<div class="container" style="max-width:820px;">
  <h2>Edit Lesson</h2>
  <p style="color:#6b7280;margin-top:-6px;">
    Course: {{ course.title }}
  </p>

  <form method="post">
    {% csrf_token %}

    <!-- ✅ CHAPTER -->
    <label><strong>Chapter</strong></label>
    <select name="chapter"
            style="width:100%;padding:10px;margin:6px 0 12px;">

        <option value="">-- No Chapter --</option>

        {% for ch in chapters %}
          <option value="{{ ch.id }}"
            {% if lesson.chapter and lesson.chapter.id == ch.id %}
              selected
            {% endif %}>
            Chapter {{ ch.order }} — {{ ch.title }}
          </option>
        {% endfor %}
    </select>


    <!-- TITLE -->
    <label><strong>Lesson Title</strong></label>
    <input type="text"
           name="title"
           value="{{ lesson.title }}"
           style="width:100%;padding:10px;margin:6px 0 12px;">


    <!-- ORDER -->
    <label><strong>Order</strong></label>
    <input type="number"
           name="order"
           value="{{ lesson.order }}"
           style="width:160px;padding:10px;margin:6px 0 12px;">


    <!-- CONTENT -->
    <label><strong>Content</strong></label>
    <textarea name="content"
              rows="10"
              style="width:100%;padding:10px;margin:6px 0 12px;">{{ lesson.content }}</textarea>


    <!-- PUBLISH -->
    <label style="display:flex;gap:8px;align-items:center;margin-bottom:10px;">
      <input type="checkbox"
             name="is_published"
             {% if lesson.is_published %}checked{% endif %}>
      Published
    </label>

    <!-- STUDENT VIEW -->
    <label>
      <input type="checkbox"
             name="allow_students_view"
             {% if lesson.allow_students_view %}checked{% endif %}>
      Allow students to view this lesson
    </label>

    <div style="display:flex;gap:10px;margin-top:10px;">
      <button type="submit" class="btn btn-primary">
        Save
      </button>

      <a class="btn btn-secondary"
         href="{% url 'courses:course_dashboard' course.id %}">
        Cancel
      </a>
    </div>

  </form>
</div>

{% endblock %}