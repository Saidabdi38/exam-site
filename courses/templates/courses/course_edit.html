<!-- =========================
     courses/course_edit.html
     ========================= -->
{% extends "base.html" %}
{% block title %}Edit Course{% endblock %}
{% block content %}

<div class="container" style="max-width:720px;">
  <h2>Edit Course</h2>

  <form method="post">
    {% csrf_token %}

    <!-- TITLE -->
    <label><strong>Title</strong></label>
    <input type="text"
           name="title"
           value="{{ course.title }}"
           style="width:100%;padding:10px;margin:6px 0 12px;">

    <!-- OVERVIEW -->
    <label><strong>Overview</strong></label>
    <textarea name="overview"
              rows="5"
              style="width:100%;padding:10px;margin:6px 0 12px;">{{ course.overview }}</textarea>

    <!-- ✅ PRICE -->
    <label><strong>Course Price ($)</strong></label>
    <input type="number"
           name="price"
           step="0.01"
           min="0"
           value="{{ course.price }}"
           style="width:100%;padding:10px;margin:6px 0 6px;">

    <small style="color:#6b7280;">Enter 0 for Free Course</small>
    <br><br>

    <!-- PUBLISHED -->
    <label style="display:flex;gap:8px;align-items:center;margin-bottom:10px;">
      <input type="checkbox" name="is_published" {% if course.is_published %}checked{% endif %}>
      Published
    </label>

    <!-- ✅ ALLOW STUDENTS VIEW -->
    <label style="display:flex;gap:8px;align-items:center;margin-bottom:10px;">
      <input type="checkbox" name="allow_students_view" {% if course.allow_students_view %}checked{% endif %}>
      Allow students to view this course
    </label>

    <!-- VISIBILITY (optional) -->
    {% if course.is_visible is not None %}
    <label style="display:flex;gap:8px;align-items:center;margin-bottom:10px;">
      <input type="checkbox" name="is_visible" {% if course.is_visible %}checked{% endif %}>
      Visible to Students
    </label>
    {% endif %}

    <!-- BUTTONS -->
    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;">
      <button type="submit" class="btn btn-primary">Save</button>
      <a class="btn btn-secondary" href="{% url 'courses:course_dashboard' course.id %}">Cancel</a>
    </div>

  </form>
</div>

{% endblock %}