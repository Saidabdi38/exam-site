{% extends "base.html" %}
{% block title %}Courses{% endblock %}

{% block content %}

<div class="container">

    <h1>ðŸŽ“ Available Courses</h1>
    <p>Select a course and start learning.</p>

    <div style="
        display:grid;
        grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
        gap:20px;
    ">

        {% for course in courses %}
        <div class="card">

            <h3>{{ course.title }}</h3>

            {% if course.overview %}
                <p>{{ course.overview|truncatewords:20 }}</p>
            {% endif %}

            <!-- âœ… COURSE PRICE -->
            <!-- <h2 style="margin:12px 0;color:var(--primary);">

                {% if course.price == 0 %}
                    Free Course
                {% else %}
                    ${{ course.price }}
                {% endif %}

            </h2> -->

            <!-- ================= BUTTONS ================= -->

            {% if user.is_authenticated %}

                <a href="{% url 'courses:course_dashboard' course.id %}"
                   class="btn btn-primary">
                   Start Learning
                </a>

            {% else %}

                <a href="{% url 'login' %}?next={% url 'courses:course_dashboard' course.id %}"
                   class="btn btn-primary">
                   Login
                </a>

                <a href="{% url 'signup' %}?next={% url 'courses:course_dashboard' course.id %}"
                   class="btn btn-secondary">
                   Sign Up
                </a>

            {% endif %}

        </div>

        {% empty %}
            <p>No courses available.</p>
        {% endfor %}

    </div>

</div>

{% endblock %}