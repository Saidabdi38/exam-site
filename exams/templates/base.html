{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>{% block title %}Xirfadyaal{% endblock %}</title>

  <link rel="stylesheet" href="{% static 'exams/css/style.css' %}">
</head>

<body>

<!-- ================= NAVBAR ================= -->
<nav id="siteNav">

  <!-- LEFT -->
  <div class="nav-left">

    <!-- LOGO -->
    <a class="brand" href="{% url 'home' %}">
      <img src="{% static 'exams/images/logo.jpeg' %}"
           class="brand-logo"
           alt="Xirfadyaal">
      <!-- <span class="brand-text">XIRFADYAAL.COM</span> -->
    </a>

    {% if user.is_authenticated %}

      <a class="navlink"
         href="{% url 'student_dashboard' %}">
         Dashboard
      </a>

      <!-- âœ… COURSES -->
      <a class="navlink"
         href="{% url 'courses:course_list' %}">
         Courses
      </a>

      <!-- âœ… TEACHER AREA -->
      {% if user.is_staff %}
        <a class="navlink"
           href="{% url 'teacher_dashboard' %}">
           Teacher
        </a>

        <a class="navlink"
           href="{% url 'teacher_subject_list' %}">
           Subjects
        </a>
      {% endif %}

      <a class="navlink"
         href="{% url 'exam_prices' %}">
         Assessments
      </a>

    {% else %}

      <a class="navlink" href="{% url 'home' %}">Home</a>
      <a class="navlink" href="{% url 'courses:course_prices' %}">
        Courses
      </a>
      <a class="navlink" href="{% url 'exam_prices' %}">
        Assessments
      </a>

    {% endif %}
  </div>


  <!-- RIGHT -->
  <div class="nav-right">

    {% if user.is_authenticated %}
      <span class="nav-user">
        Hi, {{ user.username }}
      </span>

      <form method="post"
            action="{% url 'logout' %}"
            class="inline-form">
        {% csrf_token %}
        <button class="btn btn-secondary">
          Logout
        </button>
      </form>

    {% else %}

      <a class="navlink" href="{% url 'login' %}">Login</a>
      <a class="btn btn-primary"
         href="{% url 'signup' %}">
         Sign up
      </a>

    {% endif %}
  </div>

  <!-- MOBILE BUTTON -->
  <button id="menuToggle" class="menu-toggle">â˜°</button>

</nav>


<!-- ================= MOBILE NAV ================= -->
<div id="mobileNav">

  <!-- MOBILE LOGO -->
  <div class="mobile-logo">
    <a href="{% url 'home' %}">
      <img src="{% static 'exams/images/logo.jpeg' %}"
           class="mobile-brand-logo">
    </a>
  </div>

  {% if user.is_authenticated %}

    <a href="{% url 'student_dashboard' %}">Dashboard</a>
    <a href="{% url 'courses:course_list' %}">Courses</a>

    {% if user.is_staff %}
      <a href="{% url 'teacher_dashboard' %}">Teacher</a>
      <a href="{% url 'teacher_subject_list' %}">Subjects</a>
    {% endif %}

    <a href="{% url 'exam_prices' %}">Assessments</a>

    <form method="post" action="{% url 'logout' %}">
      {% csrf_token %}
      <button class="btn btn-secondary mobile-logout">
        Logout
      </button>
    </form>

  {% else %}

    <a href="{% url 'home' %}">Home</a>
    <a href="{% url 'courses:course_list' %}">Courses</a>
    <a href="{% url 'exam_prices' %}">Assessments</a>
    <a href="{% url 'login' %}">Login</a>
    <a class="btn btn-primary"
       href="{% url 'signup' %}">
       Sign up
    </a>

  {% endif %}
</div>


<!-- ================= MAIN CONTENT ================= -->
<div class="container">
  <div class="panel">

    {% if messages %}
      <ul class="messages">
        {% for message in messages %}
          <li class="{{ message.tags }}">
            {{ message }}
          </li>
        {% endfor %}
      </ul>
    {% endif %}

    {% block content %}{% endblock %}

  </div>
</div>


<!-- ================= FOOTER ================= -->
<footer class="site-footer">
  <div class="footer-container">

    <div>
      <h3>Xirfadyaal</h3>
      <p>
        Competency-based skills assessment platform.
      </p>
    </div>

    <div>
      <h4>Quick Links</h4>
      <a href="{% url 'home' %}">Home</a>
      <a href="{% url 'courses:course_list' %}">Courses</a>
      <a href="{% url 'exam_prices' %}">Assessments</a>
    </div>

    <div>
      <h4>Contact</h4>
      <p>ðŸ“ž +252 906 943838</p>
      <p>âœ‰ support@xirfadyaal.com</p>
      <p>Â© 2026 Xirfadyaal</p>
    </div>

  </div>
</footer>


<!-- ================= MOBILE SCRIPT ================= -->
<script>
document.addEventListener("DOMContentLoaded", function () {

  const toggle = document.getElementById("menuToggle");
  const mobile = document.getElementById("mobileNav");

  if(toggle){
    toggle.onclick = () => {
      mobile.classList.toggle("show");
      toggle.textContent =
        mobile.classList.contains("show") ? "âœ–" : "â˜°";
    };
  }

});
</script>

</body>
</html>